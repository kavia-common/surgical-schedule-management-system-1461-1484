{"is_source_file": true, "format": "JavaScript", "description": "This file contains helper functions and public interfaces for managing availability, scheduling, and listings of doctors and rooms within a healthcare system backend. It includes functions to list available doctors/rooms within a given time window, retrieve and set their availability windows, and check for overlaps.", "external_files": ["../data/store"], "external_methods": ["db.doctors.values", "db.doctorAvailability.get", "db.roomAvailability.get", "db.rooms.values", "db.schedules.values"], "published": ["listAvailableDoctors", "listAvailableRooms", "getAvailability", "setAvailability"], "classes": [], "methods": [{"name": "toMinutes(hhmm)", "description": "Converts a 'HH:MM' string into total minutes from midnight.", "scope": "", "scopeKind": ""}, {"name": "minutesSinceMidnight(date)", "description": "Calculates total minutes since midnight for a given date.", "scope": "", "scopeKind": ""}, {"name": "isWithinAvailability(avails, start, end)", "description": "Checks if a time range falls within any availability windows for a given day of the week.", "scope": "", "scopeKind": ""}, {"name": "overlaps(aStart, aEnd, bStart, bEnd)", "description": "Determines if two time intervals overlap.", "scope": "", "scopeKind": ""}, {"name": "listAvailableDoctors(startISO, endISO)", "description": "Lists doctors available within a specified time window (or now if none provided), considering their activity status, individual availability, and existing schedules.", "scope": "", "scopeKind": ""}, {"name": "listAvailableRooms(startISO, endISO)", "description": "Lists rooms available within a specified time window (or now), considering activity status, individual availability, and existing schedules.", "scope": "", "scopeKind": ""}, {"name": "getAvailability(type, id)", "description": "Fetches availability windows for a specified doctor or room.", "scope": "", "scopeKind": ""}, {"name": "setAvailability(type, id, windows)", "description": "Sets or replaces availability windows for a specified doctor or room after validating input.", "scope": "", "scopeKind": ""}], "calls": ["new Date()", "db.doctors.values()", "db.doctorAvailability.get()", "db.rooms.values()", "db.roomAvailability.get()", "db.schedules.values()"], "search-terms": ["availabilityWindow", "doctorAvailability", "roomAvailability", "listAvailableDoctors", "listAvailableRooms", "setAvailability", "getAvailability", "scheduledAppointments", "doctorSchedule", "roomSchedule"], "state": 2, "file_id": 29, "knowledge_revision": 66, "git_revision": "", "ctags": [{"_type": "tag", "name": "getAvailability", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1484/backend/src/services/availabilityService.js", "pattern": "/^function getAvailability(type, id) {$/", "language": "JavaScript", "kind": "function", "signature": "(type, id)"}, {"_type": "tag", "name": "isWithinAvailability", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1484/backend/src/services/availabilityService.js", "pattern": "/^function isWithinAvailability(avails, start, end) {$/", "language": "JavaScript", "kind": "function", "signature": "(avails, start, end)"}, {"_type": "tag", "name": "listAvailableDoctors", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1484/backend/src/services/availabilityService.js", "pattern": "/^  listAvailableDoctors,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "listAvailableDoctors", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1484/backend/src/services/availabilityService.js", "pattern": "/^function listAvailableDoctors(startISO, endISO) {$/", "language": "JavaScript", "kind": "function", "signature": "(startISO, endISO)"}, {"_type": "tag", "name": "listAvailableRooms", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1484/backend/src/services/availabilityService.js", "pattern": "/^function listAvailableRooms(startISO, endISO) {$/", "language": "JavaScript", "kind": "function", "signature": "(startISO, endISO)"}, {"_type": "tag", "name": "minutesSinceMidnight", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1484/backend/src/services/availabilityService.js", "pattern": "/^function minutesSinceMidnight(date) {$/", "language": "JavaScript", "kind": "function", "signature": "(date)"}, {"_type": "tag", "name": "overlaps", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1484/backend/src/services/availabilityService.js", "pattern": "/^function overlaps(aStart, aEnd, bStart, bEnd) {$/", "language": "JavaScript", "kind": "function", "signature": "(aStart, aEnd, bStart, bEnd)"}, {"_type": "tag", "name": "setAvailability", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1484/backend/src/services/availabilityService.js", "pattern": "/^function setAvailability(type, id, windows) {$/", "language": "JavaScript", "kind": "function", "signature": "(type, id, windows)"}, {"_type": "tag", "name": "toMinutes", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1484/backend/src/services/availabilityService.js", "pattern": "/^function toMinutes(hhmm) {$/", "language": "JavaScript", "kind": "function", "signature": "(hhmm)"}], "hash": "6661432314081f167c49635cab65b3ae", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/services/availabilityService.js", "fields": [{"name": "listAvailableDoctors,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"66": ""}]}