{"is_source_file": true, "format": "JavaScript", "description": "This file implements a WebSocket server that integrates with an event bus to broadcast resource and schedule events to connected clients. It also manages client connections, handles incoming messages, and supports basic ping-pong keepalive.", "external_files": ["./utils/eventBus"], "external_methods": ["eventBus.on"], "published": ["setupWebSocket"], "classes": [], "methods": [{"name": "setupWebSocket(httpServer)", "description": "Initializes and attaches a WebSocket server to an existing HTTP server, setting up event forwarding and connection handling.", "scope": "", "scopeKind": ""}, {"name": "broadcast(type, payload)", "scope": "setupWebSocket", "scopeKind": "function", "description": "unavailable"}], "calls": ["WebSocket.Server", "wss.clients.forEach", "client.readyState", "client.send", "eventBus.on", "wss.on", "ws.on", "JSON.parse", "JSON.stringify"], "search-terms": ["WebSocket", "eventBus", "broadcast", "connectivity", "real-time", "push notifications", "resource events"], "state": 2, "file_id": 24, "knowledge_revision": 49, "git_revision": "", "ctags": [{"_type": "tag", "name": "WebSocket", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1484/backend/src/websocket.js", "pattern": "/^const WebSocket = require('ws');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "broadcast", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1484/backend/src/websocket.js", "pattern": "/^  function broadcast(type, payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(type, payload)", "scope": "setupWebSocket", "scopeKind": "function"}, {"_type": "tag", "name": "setupWebSocket", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1484/backend/src/websocket.js", "pattern": "/^function setupWebSocket(httpServer) {$/", "language": "JavaScript", "kind": "function", "signature": "(httpServer)"}, {"_type": "tag", "name": "setupWebSocket", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1484/backend/src/websocket.js", "pattern": "/^module.exports = { setupWebSocket };$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}], "hash": "1cb375230555a1f5fba5b8101dcf3675", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/websocket.js", "fields": [{"name": "module.exports = { setupWebSocket };", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"49": ""}]}